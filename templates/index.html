<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Text Generator (Sentiment)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>AI TEXT GENERATOR (BASED ON SENTIMENTS)</h1>

    <div class="main-content">
      <!-- ===== Left Side: Input Form ===== -->
      <div class="form-box">
        <form method="POST" onsubmit="showLoading()">
          <label for="prompt">Enter your topic or idea:</label>
          <textarea
            name="prompt"
            id="prompt"
            rows="5"
            placeholder="Example: Write a message to your friend after a tough exam"
            required>{{ prompt }}</textarea>

          <p class="examples">
            üí° Examples:
            <em>‚ÄúDescribe a sunset‚Äù, ‚ÄúEncourage a friend after failure‚Äù, ‚ÄúTalk about AI in education‚Äù</em>
          </p>

          <label for="sentiment">Select sentiment:</label>
          <select name="sentiment" id="sentiment">
            <option value="auto" {% if selected_sentiment == 'auto' %}selected{% endif %}>Auto Detect</option>
            <option value="positive" {% if selected_sentiment == 'positive' %}selected{% endif %}>Positive</option>
            <option value="negative" {% if selected_sentiment == 'negative' %}selected{% endif %}>Negative</option>
            <option value="neutral" {% if selected_sentiment == 'neutral' %}selected{% endif %}>Neutral</option>
          </select>

          <label for="model">Choose model:</label>
          <select name="model" id="model">
            <option value="openai-community/gpt2" {% if selected_model == 'openai-community/gpt2' %}selected{% endif %}>GPT-2 (Fast)</option>
            <option value="openai-community/gpt2-medium" {% if selected_model == 'openai-community/gpt2-medium' %}selected{% endif %}>GPT-2 (Medium)</option>
          </select>

          <label for="length">Maximum text length:</label>
          <input type="number" id="length" name="length" min="50" max="1000" value="{{ length }}">

          <button type="submit">Generate Text</button>
          <p id="loading" style="display:none;color:#64b5f6;">‚è≥ Generating text... Please wait.</p>
        </form>
      </div>

      <!-- ===== Right Side: Output ===== -->
      <div class="output-box">
        {% if output %}
        <div class="output">
          {% if sentiment %}
            <p><strong>Detected Sentiment:</strong> 
              <span class="sentiment {{ sentiment }}">{{ sentiment }}</span>
            </p>
          {% endif %}
          <p><strong>Generated Text:</strong></p>
          <div class="generated-text">{{ output }}</div>
        </div>
        {% else %}
        <div class="placeholder">
          <p>‚ú® Your generated text will appear here after you click <strong>Generate Text</strong>.</p>
        </div>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>Built with ‚ù§Ô∏è using Flask + GPT-2 | Developed by <strong>Aniket</strong></p>
  </footer>

  <script>
    function showLoading() {
      document.getElementById("loading").style.display = "block";
    }
  </script>
</body>
</html>
